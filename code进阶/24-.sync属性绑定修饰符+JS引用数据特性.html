<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./js/vue.js"></script>
</head>

<body>
    <div id="app">
        <p>msg:{{ msg }}</p>
        <input type="text" v-model="msg">
        <p>obj.info:{{ obj.info }}</p>
        <input type="text" v-model="obj.info">

        <hr>
        <!-- 
            v-bind 的修饰符 .sync(语法糖)  对应的语法功能 加密盐
                语法糖:程序开发过程中一种可用可不用的封装机制
                      封装装的时固定的代码定义结构，程序员只用调用该语法结构，程序会自动完成后续功能
            v-bind:变量名.sync ，会直接为当前组件定义自定义事件 ，事件名称为固定格式 update:变量名


        -->
        <test-comp :msg.sync="msg" :obj=" obj "></test-comp>
    </div>
    <template id="testComp">
        <div>
            <p>msg:{{ msg }}</p>
            <input type="text" v-model="getMsg">
            <!-- $emit 方法可以在事件行内绑定时直接调用 -->
            <input type="button" value="更新MSG" @click=" $emit('update:msg','事件传递新值') ">
            <hr>
            <p>obj.info:{{ obj.info }}</p>
            <input type="text" v-model="obj.info">

        </div>
    </template>
</body>
<script>
    new Vue({
        el: "#app",
        data: {
            msg: "父组件数据",
            obj: {
                info: "父组件INFO"
            }
        },
        components: {
            TestComp: {
                template: "#testComp",
                props: ["msg", "obj"],
                computed: {
                    getMsg: {
                        get() {
                            return this.msg;
                        },
                        set(nv) {
                            this.$emit("update:msg", nv)
                        }
                    }
                },
                mounted() {
                    console.log(this);
                },
            }
        }
    })
</script>

</html>